<!DOCTYPE html>
<html lang="zh">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <title>列表显示</title>

    <meta name="description" content="Dynamic tables and grids using jqGrid plugin"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>

    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="../assets/css/bootstrap.css"/>
    <link rel="stylesheet" href="../assets/css/font-awesome.css"/>

    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="../assets/css/jquery-ui.css"/>
    <link rel="stylesheet" href="../assets/css/bootstrap-datepicker3.css"/>
    <link rel="stylesheet" href="../assets/css/ui.jqgrid.css"/>

    <!-- text fonts -->
    <link rel="stylesheet" href="../assets/css/ace-fonts.css"/>

    <!-- ace styles -->
    <link rel="stylesheet" href="../assets/css/ace.css" class="ace-main-stylesheet" id="main-ace-style"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="../assets/css/ace-part2.css" class="ace-main-stylesheet"/>
    <![endif]-->

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="../assets/css/ace-ie.css"/>
    <![endif]-->

    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

    <!--[if lte IE 8]>
    <script src="../assets/js/html5shiv.js"></script>
    <script src="../assets/js/respond.js"></script>
    <![endif]-->
</head>

<body class="no-skin">
<div class="page-content">
    <div class="row">
        <div class="col-xs-12">
            <table id="grid-table"></table>
            <div id="grid-pager"></div>
        </div>
    </div>
</div>
<!--[if !IE]> -->
<script type="text/javascript">
    window.jQuery || document.write("<script src='../assets/js/jquery.js'>" + "<" + "/script>");
</script>

<!-- <![endif]-->

<!--[if IE]>
<script type="text/javascript">
    window.jQuery || document.write("<script src='../assets/js/jquery1x.js'>" + "<" + "/script>");
</script>
<![endif]-->
<script type="text/javascript">
    if ('ontouchstart' in document.documentElement) document.write("<script src='../assets/js/jquery.mobile.custom.js'>" + "<" + "/script>");
</script>
<script src="../assets/js/bootstrap.js"></script>

<!-- page specific plugin scripts -->
<script src="../assets/js/date-time/bootstrap-datepicker.js"></script>
<script src="../assets/js/jqGrid/jquery.jqGrid.js"></script>
<script src="../assets/js/jqGrid/i18n/grid.locale-cn.js"></script>

<!-- inline scripts related to this page -->
<script type="text/javascript">
    var grid_data =
        [
            {id: "1", kTitle: "Desktop Computer", kUseCount: "note", kUserTimeLast: "Yes", createTime: "FedEx"},
            {id: "2", kTitle: "Laptop", kUseCount: "Long text ", kUserTimeLast: "Yes", createTime: "InTime"},
            {id: "3", kTitle: "LCD Monitor", kUseCount: "note3", kUserTimeLast: "Yes", createTime: "TNT"},
            {id: "4", kTitle: "Speakers", kUseCount: "note", kUserTimeLast: "No", createTime: "ARAMEX"},
            {id: "5", kTitle: "Laser Printer", kUseCount: "note2", kUserTimeLast: "Yes", createTime: "FedEx"},
            {id: "6", kTitle: "Play Station", kUseCount: "note3", kUserTimeLast: "No", createTime: "FedEx"},
            {id: "7", kTitle: "Mobile Telephone", kUseCount: "note", kUserTimeLast: "Yes", createTime: "ARAMEX"},
            {id: "8", kTitle: "Server", kUseCount: "note2", kUserTimeLast: "Yes", createTime: "TNT"},
            {id: "9", kTitle: "Matrix Printer", kUseCount: "note3", kUserTimeLast: "No", createTime: "FedEx"},
            {id: "10", kTitle: "Desktop Computer", kUseCount: "note", kUserTimeLast: "Yes", createTime: "FedEx"},
            {id: "11", kTitle: "Laptop", kUseCount: "Long text ", kUserTimeLast: "Yes", createTime: "InTime"},
            {id: "12", kTitle: "LCD Monitor", kUseCount: "note3", kUserTimeLast: "Yes", createTime: "TNT"},
            {id: "13", kTitle: "Speakers", kUseCount: "note", kUserTimeLast: "No", createTime: "ARAMEX"},
            {id: "14", kTitle: "Laser Printer", kUseCount: "note2", kUserTimeLast: "Yes", createTime: "FedEx"},
            {id: "15", kTitle: "Play Station", kUseCount: "note3", kUserTimeLast: "No", createTime: "FedEx"},
            {id: "16", kTitle: "Mobile Telephone", kUseCount: "note", kUserTimeLast: "Yes", createTime: "ARAMEX"},
            {id: "17", kTitle: "Server", kUseCount: "note2", kUserTimeLast: "Yes", createTime: "TNT"},
            {id: "18", kTitle: "Matrix Printer", kUseCount: "kUseCount3", kUserTimeLast: "No", createTime: "FedEx"},
            {id: "19", kTitle: "Matrix Printer", kUseCount: "kUseCount3", kUserTimeLast: "No", createTime: "FedEx"},
            {id: "20", kTitle: "Desktop Computer", kUseCount: "kUseCount", kUserTimeLast: "Yes", createTime: "FedEx"},
            {id: "21", kTitle: "Laptop", kUseCount: "Long text ", kUserTimeLast: "Yes", createTime: "InTime"},
            {id: "22", kTitle: "LCD Monitor", kUseCount: "kUseCount3", kUserTimeLast: "Yes", createTime: "TNT"},
            {id: "23", kTitle: "Speakers", kUseCount: "kUseCount", kUserTimeLast: "No", createTime: "ARAMEX"}
        ];

    jQuery(function ($) {
        var grid_selector = "#grid-table";
        var pager_selector = "#grid-pager";
        var parent_column = $(grid_selector).closest('[class*="col-"]');
        //resize to fit page size
        $(window).on('resize.jqGrid', function () {
            $(grid_selector).jqGrid('setGridWidth', parent_column.width());
        })

        //resize on sidebar collapse/expand
        $(document).on('settings.ace.jqGrid', function (ev, event_name, collapsed) {
            if (event_name === 'sidebar_collapsed' || event_name === 'main_container_fixed') {
                //setTimeout is for webkit only to give time for DOM changes and then redraw!!!
                setTimeout(function () {
                    $(grid_selector).jqGrid('setGridWidth', parent_column.width());
                }, 0);
            }
        })

        jQuery(grid_selector).jqGrid({
            data: grid_data,
            datatype: "local",
            height: 250,
            colNames: ['ID', '标题', '引用次数', '最后使用时间', '创建时间'],
            colModel: [
                {name: 'id', index: 'id', width: 60, sorttype: 'int', editable: false},
                {name: 'kTitle', index: 'kTitle', width: 90, editable: false, sorttype: 'string'},
                {
                    name: 'kUseCount',
                    index: 'kUseCount',
                    width: 150,
                    editable: false,
                    sorttype: "int"
                },
                {
                    name: 'kUserTimeLast',
                    index: 'kUserTimeLast',
                    width: 70,
                    sorttype: "date",
                    editable: false,
                },
                {
                    name: 'createTime',
                    index: 'createTime',
                    width: 90,
                    sorttype: 'date',
                    editable: false,
                },
            ],

            viewrecords: true,
            rowNum: 10,
            rowList: [10, 20, 30],
            pager: pager_selector,
            altRows: true,
            loadComplete: function () {
                var table = this;
                setTimeout(function () {
                    updatePagerIcons(table);
                }, 0);
            },
            caption: "知识列表"
        });
        $(window).triggerHandler('resize.jqGrid');//trigger window resize to make the grid get the correct size

        function updatePagerIcons(table) {
            var replacement =
                {
                    'ui-icon-seek-first': 'ace-icon fa fa-angle-double-left bigger-140',
                    'ui-icon-seek-prev': 'ace-icon fa fa-angle-left bigger-140',
                    'ui-icon-seek-next': 'ace-icon fa fa-angle-right bigger-140',
                    'ui-icon-seek-end': 'ace-icon fa fa-angle-double-right bigger-140'
                };
            $('.ui-pg-table:not(.navtable) > tbody > tr > .ui-pg-button > .ui-icon').each(function () {
                var icon = $(this);
                var $class = $.trim(icon.attr('class').replace('ui-icon', ''));

                if ($class in replacement) icon.attr('class', 'ui-icon ' + replacement[$class]);
            })
        }
    });
</script>
</body>
</html>